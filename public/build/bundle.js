var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function s(e){e.forEach(t)}function r(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let c,i;function o(e,t){return c||(c=document.createElement("a")),c.href=t,e===c.href}function l(e,t){e.appendChild(t)}function d(e,t,n){e.insertBefore(t,n||null)}function u(e){e.parentNode.removeChild(e)}function m(e){return document.createElement(e)}function f(e){return document.createTextNode(e)}function h(){return f(" ")}function g(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function p(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function $(e){i=e}function v(e){(function(){if(!i)throw new Error("Function called outside component initialization");return i})().$$.on_mount.push(e)}const b=[],w=[],x=[],y=[],k=Promise.resolve();let _=!1;function C(e){x.push(e)}let D=!1;const L=new Set;function E(){if(!D){D=!0;do{for(let e=0;e<b.length;e+=1){const t=b[e];$(t),P(t.$$)}for($(null),b.length=0;w.length;)w.pop()();for(let e=0;e<x.length;e+=1){const t=x[e];L.has(t)||(L.add(t),t())}x.length=0}while(b.length);for(;y.length;)y.pop()();_=!1,D=!1,L.clear()}}function P(e){if(null!==e.fragment){e.update(),s(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(C)}}const z=new Set;let T;function I(){T={r:0,c:[],p:T}}function j(){T.r||s(T.c),T=T.p}function H(e,t){e&&e.i&&(z.delete(e),e.i(t))}function M(e,t,n,s){if(e&&e.o){if(z.has(e))return;z.add(e),T.c.push((()=>{z.delete(e),s&&(n&&e.d(1),s())})),e.o(t)}}function S(e){e&&e.c()}function q(e,n,a,c){const{fragment:i,on_mount:o,on_destroy:l,after_update:d}=e.$$;i&&i.m(n,a),c||C((()=>{const n=o.map(t).filter(r);l?l.push(...n):s(n),e.$$.on_mount=[]})),d.forEach(C)}function N(e,t){const n=e.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function O(e,t){-1===e.$$.dirty[0]&&(b.push(e),_||(_=!0,k.then(E)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function A(t,r,a,c,o,l,d,m=[-1]){const f=i;$(t);const h=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:o,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(f?f.$$.context:[])),callbacks:n(),dirty:m,skip_bound:!1,root:r.target||f.$$.root};d&&d(h.root);let g=!1;if(h.ctx=a?a(t,r.props||{},((e,n,...s)=>{const r=s.length?s[0]:n;return h.ctx&&o(h.ctx[e],h.ctx[e]=r)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](r),g&&O(t,e)),n})):[],h.update(),g=!0,s(h.before_update),h.fragment=!!c&&c(h.ctx),r.target){if(r.hydrate){const e=function(e){return Array.from(e.childNodes)}(r.target);h.fragment&&h.fragment.l(e),e.forEach(u)}else h.fragment&&h.fragment.c();r.intro&&H(t.$$.fragment),q(t,r.target,r.anchor,r.customElement),E()}$(f)}class B{$destroy(){N(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function G(t){let n,s,r,a,c,i,o,$,v;return{c(){n=m("div"),s=m("b"),r=f(t[1]),a=h(),c=m("span"),p(s,"class","item-name svelte-1j2w3qk"),p(c,"class","item-name-underline svelte-1j2w3qk"),p(n,"class",i="navigator-item "+(t[0]==t[2]?"active":"")+" svelte-1j2w3qk"),p(n,"id",o="header-nav-itm-"+t[0])},m(e,i){d(e,n,i),l(n,s),l(s,r),l(n,a),l(n,c),$||(v=g(n,"click",t[3]),$=!0)},p(e,[t]){2&t&&function(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}(r,e[1]),5&t&&i!==(i="navigator-item "+(e[0]==e[2]?"active":"")+" svelte-1j2w3qk")&&p(n,"class",i),1&t&&o!==(o="header-nav-itm-"+e[0])&&p(n,"id",o)},i:e,o:e,d(e){e&&u(n),$=!1,v()}}}function J(e,t,n){let{id:s}=t,{name:r}=t,{selected_page:a}=t;return e.$$set=e=>{"id"in e&&n(0,s=e.id),"name"in e&&n(1,r=e.name),"selected_page"in e&&n(2,a=e.selected_page)},[s,r,a,()=>{window.location.href=`#${s}`}]}class W extends B{constructor(e){super(),A(this,e,J,G,a,{id:0,name:1,selected_page:2})}}function F(t){let n,s,r,a,c;return{c(){n=m("div"),s=m("img"),p(s,"class","theme-icon svelte-1zlz6u"),p(s,"alt","theme-icon"),o(s.src,r="public/assets/icons/themes/"+t[0].userPreferences.theme+"-theme.png")||p(s,"src",r),p(s,"id","header-theme-sel-icon"),p(n,"class","theme-selector-block svelte-1zlz6u")},m(e,r){d(e,n,r),l(n,s),a||(c=g(n,"click",t[2]),a=!0)},p(e,[t]){1&t&&!o(s.src,r="public/assets/icons/themes/"+e[0].userPreferences.theme+"-theme.png")&&p(s,"src",r)},i:e,o:e,d(e){e&&u(n),a=!1,c()}}}function R(e,t,n){let{core:s}=t;function r(){"light"==s.userPreferences.theme?n(0,s.userPreferences.theme="dark",s):"dark"==s.userPreferences.theme&&n(0,s.userPreferences.theme="light",s),s.app.update()}return e.$$set=e=>{"core"in e&&n(0,s=e.core)},[s,r,()=>{r()}]}class Z extends B{constructor(e){super(),A(this,e,R,F,a,{core:0})}}function K(e){let t,n,s,r,a,c,i,o,f,g,$,v,b,w,x,y;return a=new W({props:{id:"home",name:"Home",selected_page:e[0]}}),i=new W({props:{id:"world",name:"Welt",selected_page:e[0]}}),f=new W({props:{id:"germany",name:"Deutschland",selected_page:e[0]}}),$=new W({props:{id:"states",name:"Bundesländer",selected_page:e[0]}}),b=new W({props:{id:"districts",name:"Landkreise",selected_page:e[0]}}),x=new Z({props:{core:e[1]}}),{c(){t=m("div"),n=m("div"),n.innerHTML='<img class="icon svelte-8oiu68" alt="[Icon]" src="public/favicon.png"/> \n        <b class="title svelte-8oiu68">Covid Dashboard</b>',s=h(),r=m("div"),S(a.$$.fragment),c=h(),S(i.$$.fragment),o=h(),S(f.$$.fragment),g=h(),S($.$$.fragment),v=h(),S(b.$$.fragment),w=h(),S(x.$$.fragment),p(n,"class","icon-block svelte-8oiu68"),p(r,"class","navigator-block svelte-8oiu68"),p(t,"class","header svelte-8oiu68")},m(e,u){d(e,t,u),l(t,n),l(t,s),l(t,r),q(a,r,null),l(r,c),q(i,r,null),l(r,o),q(f,r,null),l(r,g),q($,r,null),l(r,v),q(b,r,null),l(t,w),q(x,t,null),y=!0},p(e,[t]){const n={};1&t&&(n.selected_page=e[0]),a.$set(n);const s={};1&t&&(s.selected_page=e[0]),i.$set(s);const r={};1&t&&(r.selected_page=e[0]),f.$set(r);const c={};1&t&&(c.selected_page=e[0]),$.$set(c);const o={};1&t&&(o.selected_page=e[0]),b.$set(o);const l={};2&t&&(l.core=e[1]),x.$set(l)},i(e){y||(H(a.$$.fragment,e),H(i.$$.fragment,e),H(f.$$.fragment,e),H($.$$.fragment,e),H(b.$$.fragment,e),H(x.$$.fragment,e),y=!0)},o(e){M(a.$$.fragment,e),M(i.$$.fragment,e),M(f.$$.fragment,e),M($.$$.fragment,e),M(b.$$.fragment,e),M(x.$$.fragment,e),y=!1},d(e){e&&u(t),N(a),N(i),N(f),N($),N(b),N(x)}}}function Q(e,t,n){let{page:s=""}=t,{core:r}=t;return e.$$set=e=>{"page"in e&&n(0,s=e.page),"core"in e&&n(1,r=e.core)},[s,r]}class U extends B{constructor(e){super(),A(this,e,Q,K,a,{page:0,core:1})}}function V(t){let n,r,a,c,i,o,f,$,v,b,w,x,y,k,_,C;return{c(){n=m("div"),r=m("div"),r.innerHTML='<b class="info-message svelte-1btxb0s">Die aktuellen Covid-19 Zahlen und Statistiken aus Deutschland</b>',a=h(),c=m("div"),i=m("div"),i.innerHTML='<b class="title svelte-1btxb0s">Navigator</b>',o=h(),f=m("div"),$=m("div"),$.innerHTML='<div class="item-box svelte-1btxb0s"><b class="item-name svelte-1btxb0s">Welt</b></div>',v=h(),b=m("div"),b.innerHTML='<div class="item-box svelte-1btxb0s"><b class="item-name svelte-1btxb0s">Deutschland</b></div>',w=h(),x=m("div"),x.innerHTML='<div class="item-box svelte-1btxb0s"><b class="item-name svelte-1btxb0s">Bundesländer</b></div>',y=h(),k=m("div"),k.innerHTML='<div class="item-box svelte-1btxb0s"><b class="item-name svelte-1btxb0s">Landkreise</b></div>',p(r,"class","landing-banner svelte-1btxb0s"),p(i,"class","header svelte-1btxb0s"),p($,"class","item svelte-1btxb0s"),p(b,"class","item svelte-1btxb0s"),p(x,"class","item svelte-1btxb0s"),p(k,"class","item svelte-1btxb0s"),p(f,"class","item-list svelte-1btxb0s"),p(c,"class","quick-navigator svelte-1btxb0s"),p(n,"class","home-page svelte-1btxb0s")},m(e,s){d(e,n,s),l(n,r),l(n,a),l(n,c),l(c,i),l(c,o),l(c,f),l(f,$),l(f,v),l(f,b),l(f,w),l(f,x),l(f,y),l(f,k),_||(C=[g($,"click",t[0]),g(b,"click",t[1]),g(x,"click",t[2]),g(k,"click",t[3])],_=!0)},p:e,i:e,o:e,d(e){e&&u(n),_=!1,s(C)}}}function X(e){return[()=>{window.location.href="#world"},()=>{window.location.href="#germany"},()=>{window.location.href="#states"},()=>{window.location.href="#districts"}]}class Y extends B{constructor(e){super(),A(this,e,X,V,a,{})}}function ee(t){let n;return{c(){n=m("div"),p(n,"class","germany-page svelte-hlg5la")},m(e,t){d(e,n,t)},p:e,i:e,o:e,d(e){e&&u(n)}}}class te extends B{constructor(e){super(),A(this,e,null,ee,a,{})}}class ne{constructor(){}getCache(){try{return JSON.parse(window.localStorage.getItem("dashboard.api.cache"))||{}}catch(e){return this.setCache({}),{}}}setCache(e){window.localStorage.setItem("dashboard.api.cache",JSON.stringify(e))}setCacheItem(e,t){let n=this.getCache();n[e]=t,this.setCache(n)}async fetchGermany(){var e,t,n,s,r;let a;return"germany"in this.getCache()?a=this.getCache().germany:(a=await(await fetch("https://api.corona-zahlen.org/germany")).json(),this.setCacheItem("germany",a)),{cases:a.cases||0,deaths:a.deaths||0,recovered:a.recovered||0,weekIncidence:a.weekIncidence||0,deltaCases:(null===(e=a.delta)||void 0===e?void 0:e.cases)||0,deltaDeaths:(null===(t=a.delta)||void 0===t?void 0:t.deaths)||0,deltaRecovered:(null===(n=a.delta)||void 0===n?void 0:n.recovered)||0,hospitalizationIncidence:null===(s=a.hospitalization)||void 0===s?void 0:s.incidence7Days,hospitalizationCases:null===(r=a.hospitalization)||void 0===r?void 0:r.cases7Days}}}function se(){return"light"===window.localStorage.getItem("dashboard.preferences.theme")?"light":"dark"}function re(){switch(window.location.hash){case"#world":return"world";case"#germany":return"germany";case"#states":return"states";case"#districts":return"districts";default:return"home"}}function ae(e){let t,n;return t=new Y({}),{c(){S(t.$$.fragment)},m(e,s){q(t,e,s),n=!0},i(e){n||(H(t.$$.fragment,e),n=!0)},o(e){M(t.$$.fragment,e),n=!1},d(e){N(t,e)}}}function ce(e){let t,n;return t=new te({}),{c(){S(t.$$.fragment)},m(e,s){q(t,e,s),n=!0},i(e){n||(H(t.$$.fragment,e),n=!0)},o(e){M(t.$$.fragment,e),n=!1},d(e){N(t,e)}}}function ie(e){let t,n,s,r,a,c,i,o;a=new U({props:{page:e[0],core:e[1]}});let f="home"==e[0]&&ae(),g="germany"==e[0]&&ce();return{c(){t=m("main"),n=m("link"),r=h(),S(a.$$.fragment),c=h(),f&&f.c(),i=h(),g&&g.c(),p(n,"rel","stylesheet"),p(n,"href",s="public/assets/themes/"+e[1].userPreferences.theme+".css"),p(n,"id","theme-loader"),p(t,"class","svelte-ifx5fi")},m(e,s){d(e,t,s),l(t,n),l(t,r),q(a,t,null),l(t,c),f&&f.m(t,null),l(t,i),g&&g.m(t,null),o=!0},p(e,[r]){(!o||2&r&&s!==(s="public/assets/themes/"+e[1].userPreferences.theme+".css"))&&p(n,"href",s);const c={};1&r&&(c.page=e[0]),2&r&&(c.core=e[1]),a.$set(c),"home"==e[0]?f?1&r&&H(f,1):(f=ae(),f.c(),H(f,1),f.m(t,i)):f&&(I(),M(f,1,1,(()=>{f=null})),j()),"germany"==e[0]?g?1&r&&H(g,1):(g=ce(),g.c(),H(g,1),g.m(t,null)):g&&(I(),M(g,1,1,(()=>{g=null})),j())},i(e){o||(H(a.$$.fragment,e),H(f),H(g),o=!0)},o(e){M(a.$$.fragment,e),M(f),M(g),o=!1},d(e){e&&u(t),N(a),f&&f.d(),g&&g.d()}}}function oe(e,t,n){let{page:s="home"}=t,{core:r}=t;return v((()=>{window.addEventListener("hashchange",(()=>{n(0,s=re())}))})),e.$$set=e=>{"page"in e&&n(0,s=e.page),"core"in e&&n(1,r=e.core)},[s,r,function(){n(1,r)}]}let le=new class{constructor(){this.api=new ne,this.userPreferences={theme:se()}}get iconTheme(){return"dark"==this.userPreferences.theme?"light":"dark"}async fetchData(){this.germanyData=await this.api.fetchGermany(),console.log(this.germanyData)}};le.fetchData();const de=new class extends B{constructor(e){super(),A(this,e,oe,ie,a,{page:0,core:1,update:2})}get update(){return this.$$.ctx[2]}}({target:document.body,props:{page:re(),core:le}});return le.app=de,de}();
//# sourceMappingURL=bundle.js.map
