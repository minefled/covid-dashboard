var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function s(e){e.forEach(t)}function o(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function i(e,t){e.appendChild(t)}function c(e,t,n){e.insertBefore(t,n||null)}function r(e){e.parentNode.removeChild(e)}function l(e){return document.createElement(e)}function d(e){return document.createTextNode(e)}function u(){return d(" ")}function m(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function f(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}let g;function h(e){g=e}function p(){if(!g)throw new Error("Function called outside component initialization");return g}function $(){const e=p();return(t,n)=>{const s=e.$$.callbacks[t];if(s){const o=function(e,t,n=!1){const s=document.createEvent("CustomEvent");return s.initCustomEvent(e,n,!1,t),s}(t,n);s.slice().forEach((t=>{t.call(e,o)}))}}}const v=[],b=[],w=[],y=[],_=Promise.resolve();let k=!1;function x(e){w.push(e)}let C=!1;const E=new Set;function D(){if(!C){C=!0;do{for(let e=0;e<v.length;e+=1){const t=v[e];h(t),L(t.$$)}for(h(null),v.length=0;b.length;)b.pop()();for(let e=0;e<w.length;e+=1){const t=w[e];E.has(t)||(E.add(t),t())}w.length=0}while(v.length);for(;y.length;)y.pop()();k=!1,C=!1,E.clear()}}function L(e){if(null!==e.fragment){e.update(),s(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(x)}}const j=new Set;let I;function T(){I={r:0,c:[],p:I}}function H(){I.r||s(I.c),I=I.p}function M(e,t){e&&e.i&&(j.delete(e),e.i(t))}function S(e,t,n,s){if(e&&e.o){if(j.has(e))return;j.add(e),I.c.push((()=>{j.delete(e),s&&(n&&e.d(1),s())})),e.o(t)}}function z(e){e&&e.c()}function q(e,n,a,i){const{fragment:c,on_mount:r,on_destroy:l,after_update:d}=e.$$;c&&c.m(n,a),i||x((()=>{const n=r.map(t).filter(o);l?l.push(...n):s(n),e.$$.on_mount=[]})),d.forEach(x)}function N(e,t){const n=e.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function O(e,t){-1===e.$$.dirty[0]&&(v.push(e),k||(k=!0,_.then(D)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function A(t,o,a,i,c,l,d,u=[-1]){const m=g;h(t);const f=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:c,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(m?m.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:o.target||m.$$.root};d&&d(f.root);let p=!1;if(f.ctx=a?a(t,o.props||{},((e,n,...s)=>{const o=s.length?s[0]:n;return f.ctx&&c(f.ctx[e],f.ctx[e]=o)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](o),p&&O(t,e)),n})):[],f.update(),p=!0,s(f.before_update),f.fragment=!!i&&i(f.ctx),o.target){if(o.hydrate){const e=function(e){return Array.from(e.childNodes)}(o.target);f.fragment&&f.fragment.l(e),e.forEach(r)}else f.fragment&&f.fragment.c();o.intro&&M(t.$$.fragment),q(t,o.target,o.anchor,o.customElement),D()}h(m)}class B{$destroy(){N(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function G(t){let n,s,o,a,g,h,p,$,v;return{c(){n=l("div"),s=l("b"),o=d(t[1]),a=u(),g=l("span"),f(s,"class","item-name svelte-1j2w3qk"),f(g,"class","item-name-underline svelte-1j2w3qk"),f(n,"class",h="navigator-item "+(t[0]==t[2]?"active":"")+" svelte-1j2w3qk"),f(n,"id",p="header-nav-itm-"+t[0])},m(e,r){c(e,n,r),i(n,s),i(s,o),i(n,a),i(n,g),$||(v=m(n,"click",t[4]),$=!0)},p(e,[t]){2&t&&function(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}(o,e[1]),5&t&&h!==(h="navigator-item "+(e[0]==e[2]?"active":"")+" svelte-1j2w3qk")&&f(n,"class",h),1&t&&p!==(p="header-nav-itm-"+e[0])&&f(n,"id",p)},i:e,o:e,d(e){e&&r(n),$=!1,v()}}}function J(e,t,n){const s=$();let{id:o}=t,{name:a}=t,{selected_page:i}=t;return e.$$set=e=>{"id"in e&&n(0,o=e.id),"name"in e&&n(1,a=e.name),"selected_page"in e&&n(2,i=e.selected_page)},[o,a,i,s,()=>{s("set-page",{page:o})}]}class W extends B{constructor(e){super(),A(this,e,J,G,a,{id:0,name:1,selected_page:2})}}function F(e){let t,n,s,o,a,d,m,g,h,p,$,v,b,w;return a=new W({props:{id:"home",name:"Home",selected_page:e[0]}}),a.$on("set-page",e[2]),m=new W({props:{id:"world",name:"Welt",selected_page:e[0]}}),m.$on("set-page",e[3]),h=new W({props:{id:"germany",name:"Deutschland",selected_page:e[0]}}),h.$on("set-page",e[4]),$=new W({props:{id:"states",name:"Bundesländer",selected_page:e[0]}}),$.$on("set-page",e[5]),b=new W({props:{id:"districts",name:"Landkreise",selected_page:e[0]}}),b.$on("set-page",e[6]),{c(){t=l("div"),n=l("div"),n.innerHTML='<img class="icon svelte-8oiu68" alt="[Icon]" src="public/favicon.png"/> \n        <b class="title svelte-8oiu68">Covid Dashboard</b>',s=u(),o=l("div"),z(a.$$.fragment),d=u(),z(m.$$.fragment),g=u(),z(h.$$.fragment),p=u(),z($.$$.fragment),v=u(),z(b.$$.fragment),f(n,"class","icon-block svelte-8oiu68"),f(o,"class","navigator-block svelte-8oiu68"),f(t,"class","header svelte-8oiu68")},m(e,r){c(e,t,r),i(t,n),i(t,s),i(t,o),q(a,o,null),i(o,d),q(m,o,null),i(o,g),q(h,o,null),i(o,p),q($,o,null),i(o,v),q(b,o,null),w=!0},p(e,[t]){const n={};1&t&&(n.selected_page=e[0]),a.$set(n);const s={};1&t&&(s.selected_page=e[0]),m.$set(s);const o={};1&t&&(o.selected_page=e[0]),h.$set(o);const i={};1&t&&(i.selected_page=e[0]),$.$set(i);const c={};1&t&&(c.selected_page=e[0]),b.$set(c)},i(e){w||(M(a.$$.fragment,e),M(m.$$.fragment,e),M(h.$$.fragment,e),M($.$$.fragment,e),M(b.$$.fragment,e),w=!0)},o(e){S(a.$$.fragment,e),S(m.$$.fragment,e),S(h.$$.fragment,e),S($.$$.fragment,e),S(b.$$.fragment,e),w=!1},d(e){e&&r(t),N(a),N(m),N(h),N($),N(b)}}}function P(e,t,n){const s=$();let{page:o=""}=t;function a(e){var t;s("set-page",{page:(null===(t=null==e?void 0:e.detail)||void 0===t?void 0:t.page)||""})}return e.$$set=e=>{"page"in e&&n(0,o=e.page)},[o,a,e=>{a(e)},e=>{a(e)},e=>{a(e)},e=>{a(e)},e=>{a(e)}]}class R extends B{constructor(e){super(),A(this,e,P,F,a,{page:0})}}function Z(t){let n,o,a,d,g,h,p,$,v,b,w,y,_,k,x,C;return{c(){n=l("div"),o=l("div"),o.innerHTML='<b class="info-message svelte-12dosto">Die aktuellen Covid-19 Zahlen und Statistiken aus Deutschland</b>',a=u(),d=l("div"),g=l("div"),g.innerHTML='<b class="title svelte-12dosto">Navigator</b>',h=u(),p=l("div"),$=l("div"),$.innerHTML='<div class="item-box svelte-12dosto"><b class="item-name svelte-12dosto">Welt</b></div>',v=u(),b=l("div"),b.innerHTML='<div class="item-box svelte-12dosto"><b class="item-name svelte-12dosto">Deutschland</b></div>',w=u(),y=l("div"),y.innerHTML='<div class="item-box svelte-12dosto"><b class="item-name svelte-12dosto">Bundesländer</b></div>',_=u(),k=l("div"),k.innerHTML='<div class="item-box svelte-12dosto"><b class="item-name svelte-12dosto">Landkreise</b></div>',f(o,"class","landing-banner svelte-12dosto"),f(g,"class","header svelte-12dosto"),f($,"class","item svelte-12dosto"),f(b,"class","item svelte-12dosto"),f(y,"class","item svelte-12dosto"),f(k,"class","item svelte-12dosto"),f(p,"class","item-list svelte-12dosto"),f(d,"class","quick-navigator svelte-12dosto"),f(n,"class","home-page svelte-12dosto")},m(e,s){c(e,n,s),i(n,o),i(n,a),i(n,d),i(d,g),i(d,h),i(d,p),i(p,$),i(p,v),i(p,b),i(p,w),i(p,y),i(p,_),i(p,k),x||(C=[m($,"click",t[0]),m(b,"click",t[1]),m(y,"click",t[2]),m(k,"click",t[3])],x=!0)},p:e,i:e,o:e,d(e){e&&r(n),x=!1,s(C)}}}function K(e){return[()=>{window.location.href="#world"},()=>{window.location.href="#germany"},()=>{window.location.href="#states"},()=>{window.location.href="#districts"}]}class Q extends B{constructor(e){super(),A(this,e,K,Z,a,{})}}function U(t){let n;return{c(){n=l("div"),f(n,"class","germany-page svelte-16vkzji")},m(e,t){c(e,n,t)},p:e,i:e,o:e,d(e){e&&r(n)}}}class V extends B{constructor(e){super(),A(this,e,null,U,a,{})}}class X{constructor(){}getCache(){try{return JSON.parse(window.localStorage.getItem("dashboard.api.cache"))||{}}catch(e){return this.setCache({}),{}}}setCache(e){window.localStorage.setItem("dashboard.api.cache",JSON.stringify(e))}setCacheItem(e,t){let n=this.getCache();n[e]=t,this.setCache(n)}async fetchGermany(){var e,t,n,s,o;let a;return"germany"in this.getCache()?a=this.getCache().germany:(a=await(await fetch("https://api.corona-zahlen.org/germany")).json(),this.setCacheItem("germany",a)),{cases:a.cases||0,deaths:a.deaths||0,recovered:a.recovered||0,weekIncidence:a.weekIncidence||0,deltaCases:(null===(e=a.delta)||void 0===e?void 0:e.cases)||0,deltaDeaths:(null===(t=a.delta)||void 0===t?void 0:t.deaths)||0,deltaRecovered:(null===(n=a.delta)||void 0===n?void 0:n.recovered)||0,hospitalizationIncidence:null===(s=a.hospitalization)||void 0===s?void 0:s.incidence7Days,hospitalizationCases:null===(o=a.hospitalization)||void 0===o?void 0:o.cases7Days}}}function Y(){switch(window.localStorage.getItem("dashboard.preferences.theme")){case"light":default:return"light";case"dark":return"dark"}}function ee(){return"#germany"===window.location.hash?"germany":"home"}function te(e){let t,n;return t=new Q({}),{c(){z(t.$$.fragment)},m(e,s){q(t,e,s),n=!0},i(e){n||(M(t.$$.fragment,e),n=!0)},o(e){S(t.$$.fragment,e),n=!1},d(e){N(t,e)}}}function ne(e){let t,n;return t=new V({}),{c(){z(t.$$.fragment)},m(e,s){q(t,e,s),n=!0},i(e){n||(M(t.$$.fragment,e),n=!0)},o(e){S(t.$$.fragment,e),n=!1},d(e){N(t,e)}}}function se(e){let t,n,s,o,a,d,m,g;a=new R({props:{page:e[0]}}),a.$on("set-page",e[3]);let h="home"==e[0]&&te(),p="germany"==e[0]&&ne();return{c(){t=l("main"),n=l("link"),o=u(),z(a.$$.fragment),d=u(),h&&h.c(),m=u(),p&&p.c(),f(n,"rel","stylesheet"),f(n,"href",s="public/assets/themes/"+e[1]+".css"),f(t,"class","svelte-ifx5fi")},m(e,s){c(e,t,s),i(t,n),i(t,o),q(a,t,null),i(t,d),h&&h.m(t,null),i(t,m),p&&p.m(t,null),g=!0},p(e,[o]){(!g||2&o&&s!==(s="public/assets/themes/"+e[1]+".css"))&&f(n,"href",s);const i={};1&o&&(i.page=e[0]),a.$set(i),"home"==e[0]?h?1&o&&M(h,1):(h=te(),h.c(),M(h,1),h.m(t,m)):h&&(T(),S(h,1,1,(()=>{h=null})),H()),"germany"==e[0]?p?1&o&&M(p,1):(p=ne(),p.c(),M(p,1),p.m(t,null)):p&&(T(),S(p,1,1,(()=>{p=null})),H())},i(e){g||(M(a.$$.fragment,e),M(h),M(p),g=!0)},o(e){S(a.$$.fragment,e),S(h),S(p),g=!1},d(e){e&&r(t),N(a),h&&h.d(),p&&p.d()}}}function oe(e,t,n){let{page:s="home"}=t,{theme:o="light"}=t,{core:a}=t;var i;i=()=>{window.addEventListener("hashchange",(()=>{n(0,s=ee())}))},p().$$.on_mount.push(i);return e.$$set=e=>{"page"in e&&n(0,s=e.page),"theme"in e&&n(1,o=e.theme),"core"in e&&n(2,a=e.core)},[s,o,a,e=>{console.log(e.detail),n(0,s=e?.detail?.page||"home")}]}let ae={theme:Y()},ie=new class{constructor(){this.api=new X}async fetchData(){this.germanyData=await this.api.fetchGermany(),console.log(this.germanyData)}};ie.fetchData();return new class extends B{constructor(e){super(),A(this,e,oe,se,a,{page:0,theme:1,core:2})}}({target:document.body,props:{theme:ae.theme,page:ee(),core:ie}})}();
//# sourceMappingURL=bundle.js.map
